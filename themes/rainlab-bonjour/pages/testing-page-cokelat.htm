title = "Cokelatnya Bikin Semua Nikmat"
url = "/aktivitas-kami/cokelatnya-bikin-semua-nikmat"
meta_description = "Ingin membuat jajanan kekinian manis rasa cokelat? Jangan bingung, Anda bisa intip resep olahan Frisian Flag Cokelat nikmat di sini!"
is_hidden = 0

[viewBag]
localeUrl[en] = "/testing-page-cokelat"
==
<?php
function onStart(){
    $this->page->amp_url = $this->pageUrl('testing-page-coklat-amp');
    $title = Input::get('title') ? Input::get('title') : "";
    $this["title"] = $title;
    $sort = "desc";
    $category = "all";
    $index    = 0;
    $this["index"] = 9;
    
    $limit = 9;
    $query = Definite\Activities\Models\Activity::leftJoin('definite_activities_categories_activities', 'definite_activities_categories_activities.activity_id', '=', 'definite_activities_activity.id')->
    leftJoin('definite_activities_category', 'definite_activities_category.id', '=', 'definite_activities_categories_activities.category_id')->whereRaw('definite_activities_category.id = ? AND ( definite_activities_activity.title like ? OR definite_activities_activity.description like ?)', [ 20, '%'.$title.'%', '%'.$title.'%' ] )->
            select('definite_activities_category.slug as slug_category','definite_activities_activity.title', 'definite_activities_activity.slug', 'definite_activities_activity.featured_image')->orderBy('definite_activities_activity.updated_at', $sort)->offset($index)->limit($limit)->get();
    
    
        $this['result'] = $query;
}

function onHandleForm()
{
    
    $title = Input::get('title');
    $sort = Input::get('sort');
    $category = Input::get('category');
    $index    = intval(Input::get('index'));
    
    $limit = 9;
    
    if(strtolower($title) == 'kangen' || strtolower($title) == 'resep kangen'){
        $categoryId = 24;
        $title = '';
    }elseif(strtolower($title) == 'bosan' || strtolower($title) == 'resep bosan'){
        $categoryId = 25;
        $title = '';
    }elseif(strtolower($title) == 'lelah' || strtolower($title) == 'resep lelah'){
        $categoryId = 26;
        $title = '';
    }elseif(strtolower($title) == 'senang' || strtolower($title) == 'resep senang'){
        $categoryId = 27;
        $title = '';
    }elseif(strtolower($title) == 'patah hati' || strtolower($title) == 'resep patah hati'){
        $categoryId = 28;
        $title = '';
    }elseif(strtolower($title) == 'galau' || strtolower($title) == 'resep galau'){
        $categoryId = 29;
        $title = '';
    }elseif(strtolower($title) == 'sedih' || strtolower($title) == 'resep sedih'){
        $categoryId = 30;
        $title = '';
    } else {    
        $categoryId = 20;
    }
    
    $query = Definite\Activities\Models\Activity::leftJoin('definite_activities_categories_activities', 'definite_activities_categories_activities.activity_id', '=', 'definite_activities_activity.id')->
    leftJoin('definite_activities_category', 'definite_activities_category.id', '=', 'definite_activities_categories_activities.category_id')->whereRaw('definite_activities_category.id = ? AND ( definite_activities_activity.title like ? OR definite_activities_activity.description like ?)', [ $categoryId, '%'.$title.'%', '%'.$title.'%' ] )->
            select('definite_activities_category.slug as slug_category','definite_activities_activity.title', 'definite_activities_activity.slug', 'definite_activities_activity.featured_image')->orderBy('definite_activities_activity.updated_at', $sort)->offset($index)->limit($limit)->get();
    
     $this['result'] = $query;
   
}



function onHandleFormCheck()
{
    
    $title = Input::get('title');
    $sort = Input::get('sort');
    $category = Input::get('category');
    
    $limit = 9;
    $next = 9;
   if(strtolower($title) == 'kangen' || strtolower($title) == 'resep kangen'){
        $categoryId = 24;
        $title = '';
    }elseif(strtolower($title) == 'bosan' || strtolower($title) == 'resep bosan'){
        $categoryId = 25;
        $title = '';
    }elseif(strtolower($title) == 'lelah' || strtolower($title) == 'resep lelah'){
        $categoryId = 26;
        $title = '';
    }elseif(strtolower($title) == 'senang' || strtolower($title) == 'resep senang'){
        $categoryId = 27;
        $title = '';
    }elseif(strtolower($title) == 'patah hati' || strtolower($title) == 'resep patah hati'){
        $categoryId = 28;
        $title = '';
    }elseif(strtolower($title) == 'galau' || strtolower($title) == 'resep galau'){
        $categoryId = 29;
        $title = '';
    }elseif(strtolower($title) == 'sedih' || strtolower($title) == 'resep sedih'){
        $categoryId = 30;
        $title = '';
    } else {    
        $categoryId = 20;
    }
    $index    = intval(Input::get('index'));
    
    $query = Definite\Activities\Models\Activity::leftJoin('definite_activities_categories_activities', 'definite_activities_categories_activities.activity_id', '=', 'definite_activities_activity.id')->
    leftJoin('definite_activities_category', 'definite_activities_category.id', '=', 'definite_activities_categories_activities.category_id')->whereRaw('definite_activities_category.id = ? AND ( definite_activities_activity.title like ? OR definite_activities_activity.description like ?)', [ $categoryId, '%'.$title.'%', '%'.$title.'%' ] )->
            select('definite_activities_category.slug as slug_category','definite_activities_activity.title', 'definite_activities_activity.slug', 'definite_activities_activity.featured_image')->orderBy('definite_activities_activity.updated_at', $sort)->offset($index)->limit($limit)->get();
    
    
    $count = 0;
    
    if(!$query->isEmpty()) $count += 1;
   
    
     $this['result'] = $count;   
    
    
}
?>
==
{% partial 'site/header' %}
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js" integrity="sha256-NXRS8qVcmZ3dOv3LziwznUHPegFhPZ1F/4inU7uC8h0=" crossorigin="anonymous"></script>
<style>
@media(min-width : 769px){
    .container, .container-fluid{
        padding-left : 25px !important;
        padding-right : 25px !important;
    }    
}
.bg-blue{
 background : url({{ 'cokelatnya-bikin-semua-nikmat/bgpattern.svg' | media}}) repeat,linear-gradient(to bottom, #5bcbf4 ,#009DE0);  
 position : relative ;
 width : 100%;
}

body{
     font-size: 16px !important; 
     background-color:#5AC9F7 !important;   
}
.form-control{
     font-size: 14px !important;   
}
.main-slide__bg {
    max-height: 650px;
    margin-top : 80px;
    border-radius : 50px !important;
}

.bg-orange{
 background-color:#fd9e02;   
}
.disresult{
    padding:50px 0;   
}
.item-thumb{
    margin-bottom:30px;
}
.item-thumb-img{
    padding-top:100%;   
    position:relative;
    border-radius : 30px;
    background:#CCC;
    margin-bottom:20px;
}
.item-thumb-img a img{
    border-radius : 30px;
}
.loading{
    display:none;
    position:fixed;
    left:0;
    top:0;
    width:100%;
    height:100%;
    z-index:9999;
}
.loading-button:before, .loading:before {
    display: block;
    background: hsla(0,0%,100%,.8);
    content: "";
    position: absolute;
}
.loading:before {
    width: 100%;
    height: 100%;
    top: 0;
    z-index: 4;
}
.loading:after{
    left:0;
    right:0;
    top:0;
    bottom:0;
    margin:auto;
}

.image-object {
    object-fit: cover;
    object-position: center;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0px;
    left: 0px;
}
.search-container{
    height : 55px;
    width : 100%;  
    display : flex;
    position : relative;    
    border : none;
}
.search-container input{
    height : 100%;
    background : linear-gradient(to bottom, #00AAF6 ,#009DE0) !important;
    width : 100%;    
    padding-left : 60px;
    font-size : 18pt;
    border-radius : 30px;    
    border : none;
}
.search-container input::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
  color: white;
  opacity: 1; /* Firefox */
}
.search-container input:focus{
    outline: none;
}
.search-container button{
    position : absolute;
    width : 60px; 
    height : 100%;
    border : none;
    background : transparent;
    left : 0;
    top : 0;
}
.search-container button:focus{
    outline: none;
}
.search-container button i{
    color : #FFD77F;
    font-size : 18pt;
}

.filter-container{
     margin-top : 60px;
     position : relative;       
}
.filter-container h3{
        text-align : left;
        font-weight : 900;
}
.filter-container .sort {
    position : absolute;
    right : 0;
    cursor : pointer;
    top : 0;
    width : 200px;
}


.sort select::after {
  position: absolute;
  content: "";
  top: 14px;
  right: 10px;
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-color: #fff transparent transparent transparent;
}
.sort-modal {
    min-height : 250px;
    background-color : #FFE69C;
    position : fixed;
    bottom : 0;
    z-index : 1000;
    border-radius : 20px 20px 0px 0px;
    left : 0;
    transition : 0.3s;
    width : inherit;
    transform : translateY(320px);
}
.sort-modal.show {
    transition : 0.3s;
    transform : translateY(0px);
}

.swiper-slide {
    border-radius : 50px !important;    
}

.mt-5{margin-top : 50px}


button.btn-filter{
    border-radius : 30px;
    border : white 2px solid;
    padding : 10px 30px;
    margin-top : 20px;
    margin-right : 10px;
    font-weight : 800;
}
button.btn-filter:focus{
    outline : none;
}
button.btn-filter:nth-child(1){
    background : linear-gradient(to bottom, #00AAF6 ,#009DE0) !important;
}
button.btn-filter:nth-child(2){
    background : linear-gradient(to bottom, #FA1701 ,#DE0202) !important;
}
button.btn-filter:nth-child(3){
    background : linear-gradient(to bottom, #008ECC ,#016E9C) !important;
}

#susu-kental-manis:hover:after{
    width : 100px;
    text-align : center;
    content : 'Susu Kental';
    position : absolute;
    bottom : -40px;
    z-index : 2000;
    right : 50%;
    padding : 10px;
    border-radius : 10px;
    background : black;
    color : white;
}
#susu-bubuk:hover:after{
    width : 100px;
    content : 'Susu Bubuk';
    text-align : center;
    position : absolute;
    top : -40px;
    z-index : 2000;
    right : 50%;
    padding : 10px;
    border-radius : 10px;
    background : black;
    color : white;
}
#susu-fullcream:hover:after{
    width : 100px;
    content : 'Susu Cair';
    text-align : center;
    position : absolute;
    top : 0;
    right : 50%;
    z-index : 2000;
    padding : 10px;
    border-radius : 10px;
    background : black;
    color : white;
}
.btn-filter-floating img{
    border-radius : 50px;
}


.item-thumb .text-center{
    position : relative;
    margin : auto;
    width : 90%;
}

.item-thumb .text-center a{
    width : 100%;
     background-color: #008BC7;  
}
</style>



<div class=" bg-blue">

<!-- banner -->

    <div id="main-slide" style="margin : auto" class="swiper-container main-slide" >
        <div class="swiper-wrapper">
            <!-- Slides -->
                            
     <style>
         .main-slide{
             margin-bottom: 0;
         }
         #slide-1 {
            background-image: url("{{ 'festive-ramadan/banner/KartuDesktop.png' |media  }}");
        }
        #slide-2 {
            background-image: url("{{ 'festive-ramadan/banner/banner-manis-desktop.jpg' |media  }}");
        }
        #slide-3 {
            background-image: url("{{ 'festive-ramadan/banner/kuekering-desktop-v2.jpg' |media  }}");
            background-size: cover;
            background-position: unset;
        }
        #slide-4 {
            background-image: url("{{ 'festive-ramadan/banner/campaign-banner-desktop2.jpg' |media  }}");
        }
        #slide-5 {
            background-image: url("{{ 'festive-ramadan/banner/Promo-Desktop.png' |media  }}");
        }
        
        #slide-6 {
            background-image: url("{{ 'festive-ramadan/banner/Resep-Sahur-Desktop.png' |media  }}");
        } 
        #slide-7 {
            background-image: url("{{ 'festive-ramadan/banner/promo_banner.jpg' |media  }}");
        } 
        #slide-10 {
            background-image: url("{{ 'cokelatnya-bikin-semua-nikmat/banner_cokelat.jpg' |media  }}");
        }
        @media (max-width: 768px) {
            #slide-1 {
            background-image: url("{{ 'festive-ramadan/banner/kartuMobile.png' |media  }}");
	        }
	        #slide-2 {
	            background-image: url("{{ 'festive-ramadan/banner/banner-manis-mobile.jpg' |media  }}");
	        }
	        #slide-3 {
	            background-image: url("{{ 'festive-ramadan/banner/kuekering_mobile_banner.jpg' |media  }}");
	        }
            #slide-4 {
                background-image: url("{{ 'festive-ramadan/banner/campaign-banner-mobile2.jpg' |media  }}");
            }   
            #slide-5 {
                background-image: url("{{ 'festive-ramadan/banner/Promo-Mobile.png' |media  }}");
            }
	        
	        #slide-6 {
	            background-image: url("{{ 'festive-ramadan/banner/RsepSahurMobile.png' |media  }}");
	        } 
	        #slide-7 {
            background-image: url("{{ 'festive-ramadan/banner/promo_banner_mobile.jpg' |media  }}");
            } 
            #slide-10 {
                background-image: url("{{ 'cokelatnya-bikin-semua-nikmat/banner_cokelat.jpg' |media  }}");
            }   
        }
         
        
        .main-slide__bg{
            position : relative !important;
        }
        .swiper-slide .main-slide__caption{
            position : absolute !important;
            width : 100%;
            height : 100%;
            right : 0%;
            top : 55%;
            transform : translate(10% , 30%)
        }
    </style>
    
                
                
                <div class="swiper-slide">
                    <div id="slide-10" class="main-slide__bg slideshow ramadan-slideshow"
                        data-image-desktop="{{ 'cokelatnya-bikin-semua-nikmat/banner_cokelat.jpg'|media}}"
                        data-image-mobile="{{ 'cokelatnya-bikin-semua-nikmat/banner_cokelat.jpg'|media  }}"
                    >
                        <div class="main-slide__caption">
                            <div class="col-md-8">
                                <a href="./cokelatnya-bikin-semua-nikmat"
                                    class="button button--large slider-btn-ramadan">
                                    Selengkapnya
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                

        </div>
        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>

        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>


<!-- end banner -->



<div class="sort-modal">
    <div class="container">
        <h4 class="filter-title mt-5">Filter</h4>
        <h4 class="filter-title">Urutkan</h4>
        <div class="btn-container">
            <button class="btn-filter">Paling Populer</button>
            <button class="btn-filter" onclick="chooseSort('desc')">Resep Terbaru</button>
            <button class="btn-filter" onclick="chooseSort('asc')">Resep Sebelumnya</button>
        </div>
    </div>
</div>

<div class="container">
    <div class="row" style="margin-top: 20px">
        <div class="col-12">
            <h1 style="margin-bottom: 50px" class="text-center"><b>Inspirasi Resep Cokelat Frisian Flag</b></h1>
            <h3>Masukkan mood keluarga kamu dan temukan inspirasi <b>COKELAT NIKMAT</b> yang bikin suasana jadi <b>NIKMAT</b></h3>
        </div>
    </div>
    <div class="row" style="margin-top:80px">
        <div class="col-md-12">
            <p>Cari resep sesuai moodmu: Kangen, Bosan, Lelah, Senang, Patah Hati, Galau, Sedih.</p>
            <div style="margin-top : 10px " class="search-container">
                <input type="text" onfocusout="changeResep()" onkeypress="handle(event)" value="{{ title }}" name="searchresep" placeholder="Ketik moodmu di sini!" id="searchresep"><button type="button" id="btn-search"><i class="fa fa-search text-warning"></i></button>
            </div>
            
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="filter-container">
                <h3>Resep-Resep <b>NIKMAT</b> Bikin Suasana Jadi NIKMAT!</h3>
                <style>
                .filter-container .sort .select{
                    margin-top : -10px;
                    height : 45px;  
                    width : 100%;
                    background : #00ACF4;
                    display : flex;
                    justify-content : flex-start;
                    align-items : center;
                    align-content : center;
                    position : relative; 
                    border : solid white 2px;
                    border-radius : 50px;
                    padding-left : 20px;
                   -webkit-appearance: none;
                   -moz-appearance: none;
                   appearance: none;
                }
                .filter-container .dropdown-item{
                    display : none;
                    background : #00ACF4;
                    padding : 5px 0px;
                    border-radius : 20px;
                    position : absolute;
                    width : 100%;
                    transition : 0.3s;
                    bottom : -120px;
                    z-index : 10;
                    border : 2px white solid;
                    left : 0;
                }
                .filter-container .dropdown-item.show{
                    display : block;
                }
                
                .dropdown-item ul{
                    margin-left : -20px;
                }
                .dropdown-item ul li{
                    list-style : none;    
                    color : white;
                    margin : 5px 0px;
                }
                </style>
                <div class="sort">
                    <div class="select" onclick="openSort()">
                        <span class="filterValue">Semua Resep</span>
                        <div class="dropdown-item">
                            <ul>
                                <li onclick="chooseSort('', 'Semua Resep')">Semua Resep</li>
                                <!-- <li onclick="chooseSort('', 'Semua Resep')">Resep Terpopuler</li> -->
                                <li onclick="chooseSort('desc','Resep Terbaru')">Resep Terbaru</li>
                                <li onclick="chooseSort('asc' , 'Resep Terlama')">Resep Terlama</li>
                            </ul>
                        </div>
                        <span onclick="dropdownClick()" style="position : absolute; right : 10%; color : white; z-index : 1;"><i class="fa fa-chevron-down"></i></span>
                    </div>
                </div>
                <script>
                function openSort(){
                    $('.dropdown-item').toggleClass('show')
                }
                </script>
            </div>
        </div>
    </div>
            <select id="sortresep" hidden onchange="changeResep()">
                <option value="desc">Terbaru</option>
                <option value="asc">Terlama</option>
            </select>
            <select id="categoryresep" hidden onchange="changeResep()">
                <option value="all">All</option>
                <option value="SCM">SCM</option>
                <option value="RTD">RTD</option>
                <option value="FMP">FMP</option>
            </select>
<div class="disresult row">
{% for ct in result %}

    <div class="col-sm-6 col-md-4 item-thumb">
        <div class="item-thumb-img">
            <a href="/resep-kami/resep-dengan-kental-manis/{{ct.slug}}">
             <img src="{{ct.featured_image | media}}" class="image-object" alt ="{{ct.title | title}}" />
            </a>
        </div>
        <div class="text-center">
        <a  href="/resep-kami/resep-dengan-kental-manis/{{ct.slug}}" class="button bg-orange" >lihat resepnya</a>
        </div>
     </div> 
{%endfor%}
</div>

</div>


</div>
<div class="loading">

</div>
{% partial 'site/footer-without-login' %}

<script>

var loadstatus = 0;
$(window).scroll(function() {
    
    if($(window).scrollTop() > $(".footer").offset().top - 650 ) {
        
           // ajax call get data from server and append to the div
           if(loadstatus == 0){
               loadstatus = 1;
               search();
               console.log("tirgger");
           }
           
           
    }
});

$(document).ready(function(){
    
    //$('<li class="main-menu__list menu-item-237 menu-item-level-0 has-child"><a href="https://www.frisianflag.com/resep-kami" title="" target="_self">Resep Kami <i class="fa fa-angle-down" aria-hidden="true"></i></a><ul class="val-submenu"><li class=""><a href="https://www.frisianflag.com/resep-kami?category=FMP" title="" target="_self">Susu Bubuk</a></li><li class=""><a href="https://www.frisianflag.com/resep-kami?category=SCM" title="" target="_self">Susu Kental Manis</a></li><li class=""><a href="https://www.frisianflag.com/resep-kami?category=RTD" title="" target="_self">Susu Fullcream</a></li></ul></li>').insertBefore('li.main-menu__list:nth-child(2)')
    //$('li.main-menu__list:nth-child(4) > ul:nth-child(2)').prepend('<li class=""><a href="https://www.frisianflag.com/cokelatnya-bikin-semua-nikmat" title="" target="_self">Cokelatnya Bikin Semua Nikmat</a></li>')
    setTimeout(function(){
                checkNext();    
            },100);
});
var indexresep = {{index}};
function changeResep(){
 indexresep = 0;
 loadstatus = 0;
 $(".disresult").empty();
 search();
}
function handle(e){
    if(e.keyCode === 13){
        e.preventDefault(); 
         changeResep();
    }
}
function chooseCategory(e,category){
    $('.btn-filter-floating').removeClass('active')
    $(e).addClass('active')
    console.log(e)
     $("#categoryresep").val(category)
     changeResep();
}
function chooseSort(sort , name){
     $("#sortresep").val(sort)
     $(".filterValue").html(name)
     changeResep();
     $('.dropdown-item').toggleClass('show')
}
function search(){
    $(".loading").fadeIn();
    var title = $("#searchresep").val();
    var sort = $("#sortresep").val();
    var category = $("#categoryresep").val();
    console.log(title,sort,category)
    $.request('onHandleForm',                       
    {
        data : {
            title : title,
            sort : sort,
            category : category,
            index : indexresep
        },
        update: {'partiallistcokelat': '.disresults'},
        beforeUpdate: function(data) { 
            
            $(".noresult").remove();
            if( data.partiallistcokelat ){
                $(".disresult").append(data.partiallistcokelat);
                $(".loading").hide();
                
                indexresep += 9;
                
                setTimeout(function(){
                    checkNext();    
                },100);
            }else{
                $(".noresult").remove();
                if($(".disresult .item-thumb").length < 1)
                    $(".disresult").append("<h2 class='noresult'>Hasil pencarian tidak di temukan</h2>");
                $(".loading").hide();
            }
            
        }
    });  
}

function checkNext(){
    
    var title = $("#searchresep").val();
    var sort = $("#sortresep").val();
    var category = $("#categoryresep").val();
    console.log(title,sort,category)
    $.request('onHandleFormCheck',                       
    {
        data : {
            title : title,
            sort : sort,
            category : category,
            index : indexresep
        },
        update: {'checkresult': '.disresults1'},
        beforeUpdate: function(data) { 
            console.log("checknext",data.checkresult);
            if(data.checkresult != "0"){
                loadstatus = 0;
            }else{
                loadstatus = 1;
            }
            
        }
    });  
}
</script>